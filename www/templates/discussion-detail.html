<ion-view>
<ion-nav-title>{{data.discussion.caption}}</ion-nav-title>
<div class='discussion-post'>
    <ion-content class="padding">
    <form class="list" ng-if="discussion.canWrite === true">
        <label class="item item-input" name="comment">
            <textarea style="max-height:45vh;" id="comment" msd-elastic ng-model="form.comment" placeholder="Nový příspěvek"></textarea>
        </label>
        <button ng-disabled="form.comment.length < 1" class="button button-block button-small button-positive" ng-click="post()">Vložit</button>
    </form>
    <div class="list card" ng-repeat="post in posts">
        <div class="item item-divider" ng-click="copy(post)" ng-class="setClassHeader(post)">
            {{post.createdBy.callName}}, {{post.createdAtStr}}
            <span href="#" class="item-icon-right">
                <i class="icon ion-ios-copy-outline"></i>
            </span>
        </div>
        <div class="item item-body" ng-class="setClass(post.sticky)">
            <div class='post-detail' ng-bind-html="renderHtml(post.post)">
            </div>
        </div>
    </div>
    <ion-infinite-scroll on-infinite="loadMoreNews()" ng-if="moreDataCanBeLoaded()">
    </ion-infinite-scroll>
    </ion-content>
</div>
</ion-view>